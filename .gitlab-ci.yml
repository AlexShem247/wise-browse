image: maven:3.8.4-jdk-11

variables:
  QT_VERSION: "6.7.1"
  QT_INSTALL_DIR: "/opt/Qt"
  JAVA_HOME: "/usr/lib/jvm/java-11-openjdk"

stages:
  - setup
  - build
  - test

before_script:
  sudo apt-get install build-essential
  sudo apt-get install qtcreator
  sudo apt-get install qt6-base-dev

setup:
  stage: setup
  script:
    - echo "Setting up environment"

build:
  stage: build
  script:
    # Compile the Java project
    - mvn clean compile
    # Package the project
    - mvn package

test:
  stage: test
  script:
    # Run the Java application
    - java -Djava.library.path=$QTJAMBI_LIBS -jar target/your-java-app.jar

#artifacts:
 # paths:
  #  - target/*.jar